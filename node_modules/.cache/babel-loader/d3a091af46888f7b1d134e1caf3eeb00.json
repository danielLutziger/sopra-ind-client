{"ast":null,"code":"import axios from 'axios';\nimport { getDomain } from 'helpers/getDomain';\nexport var api = axios.create({\n  baseURL: getDomain(),\n  headers: {\n    'Content-Type': 'application/json',\n    'Access-Control-Allow-Origin': '*'\n  }\n});\nexport var handleError = function handleError(error) {\n  var response = error.response; // catch 4xx and 5xx status codes\n\n  if (response && !!\"\".concat(response.status).match(/^[4|5]\\d{2}$/)) {\n    var info = \"\\nrequest to: \".concat(response.request.responseURL);\n\n    if (response.data.status) {\n      info += \"\\nstatus code: \".concat(response.data.status);\n      info += \"\\nerror: \".concat(response.data.error);\n      info += \"\\nerror message: \".concat(response.data.message);\n    } else {\n      info += \"\\nstatus code: \".concat(response.status);\n      info += \"\\nerror message:\\n\".concat(response.data);\n    }\n\n    if (response.data.message.includes(\"expired\")) {\n      localStorage.removeItem('token');\n    }\n\n    console.log('The request was made and answered but was unsuccessful.', error.response);\n    return info;\n  } else {\n    if (error.message.match(/Network Error/)) {\n      alert('The server cannot be reached.\\nDid you start it?');\n    }\n\n    console.log('Something else happened.', error);\n    return error.message;\n  }\n};","map":{"version":3,"sources":["C:/Users/danie/WebstormProjects/sopra-fs23-template-client/src/helpers/api.js"],"names":["axios","getDomain","api","create","baseURL","headers","handleError","error","response","status","match","info","request","responseURL","data","message","includes","localStorage","removeItem","console","log","alert"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,mBAA1B;AAEA,OAAO,IAAMC,GAAG,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC9BC,EAAAA,OAAO,EAAEH,SAAS,EADY;AAE9BI,EAAAA,OAAO,EAAE;AAAE,oBAAgB,kBAAlB;AAAsC,mCAA+B;AAArE;AAFqB,CAAb,CAAZ;AAKP,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAAC,KAAK,EAAI;AAClC,MAAMC,QAAQ,GAAGD,KAAK,CAACC,QAAvB,CADkC,CAGlC;;AACA,MAAIA,QAAQ,IAAI,CAAC,CAAC,UAAGA,QAAQ,CAACC,MAAZ,EAAqBC,KAArB,CAA2B,cAA3B,CAAlB,EAA8D;AAC5D,QAAIC,IAAI,2BAAoBH,QAAQ,CAACI,OAAT,CAAiBC,WAArC,CAAR;;AAEA,QAAIL,QAAQ,CAACM,IAAT,CAAcL,MAAlB,EAA0B;AACxBE,MAAAA,IAAI,6BAAsBH,QAAQ,CAACM,IAAT,CAAcL,MAApC,CAAJ;AACAE,MAAAA,IAAI,uBAAgBH,QAAQ,CAACM,IAAT,CAAcP,KAA9B,CAAJ;AACAI,MAAAA,IAAI,+BAAwBH,QAAQ,CAACM,IAAT,CAAcC,OAAtC,CAAJ;AACD,KAJD,MAIO;AACLJ,MAAAA,IAAI,6BAAsBH,QAAQ,CAACC,MAA/B,CAAJ;AACAE,MAAAA,IAAI,gCAAyBH,QAAQ,CAACM,IAAlC,CAAJ;AACD;;AAED,QAAIN,QAAQ,CAACM,IAAT,CAAcC,OAAd,CAAsBC,QAAtB,CAA+B,SAA/B,CAAJ,EAA8C;AAC5CC,MAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACD;;AAEDC,IAAAA,OAAO,CAACC,GAAR,CAAY,yDAAZ,EAAuEb,KAAK,CAACC,QAA7E;AACA,WAAOG,IAAP;AACD,GAlBD,MAkBO;AACL,QAAIJ,KAAK,CAACQ,OAAN,CAAcL,KAAd,CAAoB,eAApB,CAAJ,EAA0C;AACxCW,MAAAA,KAAK,CAAC,kDAAD,CAAL;AACD;;AAEDF,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCb,KAAxC;AACA,WAAOA,KAAK,CAACQ,OAAb;AACD;AACF,CA9BM","sourcesContent":["import axios from 'axios';\r\nimport { getDomain } from 'helpers/getDomain';\r\n\r\nexport const api = axios.create({\r\n  baseURL: getDomain(),\r\n  headers: { 'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*' }\r\n});\r\n\r\nexport const handleError = error => {\r\n  const response = error.response;\r\n\r\n  // catch 4xx and 5xx status codes\r\n  if (response && !!`${response.status}`.match(/^[4|5]\\d{2}$/)) {\r\n    let info = `\\nrequest to: ${response.request.responseURL}`;\r\n\r\n    if (response.data.status) {\r\n      info += `\\nstatus code: ${response.data.status}`;\r\n      info += `\\nerror: ${response.data.error}`;\r\n      info += `\\nerror message: ${response.data.message}`;\r\n    } else {\r\n      info += `\\nstatus code: ${response.status}`;\r\n      info += `\\nerror message:\\n${response.data}`;\r\n    }\r\n\r\n    if (response.data.message.includes(\"expired\")){\r\n      localStorage.removeItem('token');\r\n    }\r\n\r\n    console.log('The request was made and answered but was unsuccessful.', error.response);\r\n    return info;\r\n  } else {\r\n    if (error.message.match(/Network Error/)) {\r\n      alert('The server cannot be reached.\\nDid you start it?');\r\n    }\r\n\r\n    console.log('Something else happened.', error);\r\n    return error.message;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}