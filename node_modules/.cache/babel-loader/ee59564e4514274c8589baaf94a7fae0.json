{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\danie\\\\WebstormProjects\\\\sopra-fs23-template-client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\danie\\\\WebstormProjects\\\\sopra-fs23-template-client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport _slicedToArray from \"C:\\\\Users\\\\danie\\\\WebstormProjects\\\\sopra-fs23-template-client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\danie\\\\WebstormProjects\\\\sopra-fs23-template-client\\\\src\\\\components\\\\views\\\\Profile.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"C:\\\\Users\\\\danie\\\\WebstormProjects\\\\sopra-fs23-template-client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport 'styles/views/Login.scss';\nimport BaseContainer from \"components/ui/BaseContainer\";\nimport { api, handleError } from \"../../helpers/api\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Badge } from \"react-bootstrap\";\nimport { Button } from \"../ui/Button\";\nimport { Spinner } from \"../ui/Spinner\";\nimport ProfileEdit from \"./ProfileEdit\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Profile = function Profile() {\n  _s();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      edit = _useState4[0],\n      setEdit = _useState4[1];\n\n  var history = useHistory();\n\n  var _useParams = useParams(),\n      id = _useParams.id; // parameters passed from the browser router :1, :2 .. the userid of the selection\n\n\n  useEffect(function () {\n    function fetchData() {\n      return _fetchData.apply(this, arguments);\n    }\n\n    function _fetchData() {\n      _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var token, config, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                token = localStorage.getItem('token');\n                config = {\n                  headers: {\n                    Authorization: \"Bearer \".concat(token)\n                  }\n                };\n                _context.next = 5;\n                return api.get(\"/users/\".concat(id), config);\n\n              case 5:\n                response = _context.sent;\n                _context.next = 8;\n                return new Promise(function (resolve) {\n                  return setTimeout(resolve, 1000);\n                });\n\n              case 8:\n                // Get the returned users and update the state.\n                setUser(response.data);\n                setEdit(response.headers['edit-access']);\n                console.log('request to:', response.request.responseURL);\n                console.log('status code:', response.status);\n                console.log('status text:', response.statusText);\n                console.log('requested data:', response.data); // See here to get more data.\n\n                console.log(response);\n                _context.next = 22;\n                break;\n\n              case 17:\n                _context.prev = 17;\n                _context.t0 = _context[\"catch\"](0);\n                console.error(\"Something went wrong while fetching the user: \\n\".concat(handleError(_context.t0)));\n                console.error(\"Details:\", _context.t0);\n                alert(\"Something went wrong during the login: \\n\".concat(handleError(_context.t0)));\n\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 17]]);\n      }));\n      return _fetchData.apply(this, arguments);\n    }\n\n    fetchData();\n  }, [id]);\n\n  var submit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(editValues) {\n      var token, config, response, current;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(user.username !== editValues.username || user.birthday !== editValues.birthday && editValues.birthday)) {\n                _context2.next = 26;\n                break;\n              }\n\n              _context2.prev = 1;\n              token = localStorage.getItem('token');\n              config = {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                }\n              };\n              _context2.next = 6;\n              return api.put(\"/users/\".concat(id), editValues, config);\n\n            case 6:\n              response = _context2.sent;\n              _context2.next = 9;\n              return new Promise(function (resolve) {\n                return setTimeout(resolve, 1000);\n              });\n\n            case 9:\n              // Get the returned users and update the state.\n              current = _objectSpread(_objectSpread({}, user), editValues);\n              setUser(current);\n              localStorage.setItem('token', response.headers['access-token']);\n              setEdit(response.headers['edit-access']);\n              console.log('request to:', response.headers['access-token']);\n              console.log('request to:', response.request.responseURL);\n              console.log('status code:', response.status);\n              console.log('status text:', response.statusText);\n              console.log('requested data:', response.data); // See here to get more data.\n\n              console.log(response);\n              _context2.next = 26;\n              break;\n\n            case 21:\n              _context2.prev = 21;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.error(\"Something went wrong while fetching the user: \\n\".concat(handleError(_context2.t0)));\n              console.error(\"Details:\", _context2.t0);\n              alert(\"Something went wrong during the login: \\n\".concat(handleError(_context2.t0)));\n\n            case 26:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 21]]);\n    }));\n\n    return function submit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var content = /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 19\n  }, _this);\n\n  if (user) {\n    user.birthday = user.birthday ? user.birthday.split('T')[0] : user.birthday;\n    user.creationDate = user.creationDate.split('T')[0];\n    content = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile singleRow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player username\",\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Badge, {\n            className: \"profile right\",\n            bg: user.status === \"OFFLINE\" ? \"danger\" : \"success\",\n            children: user.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile singleRow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile birthday\",\n            children: \"Birthday\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile right\",\n            children: user.birthday || 'Not Available'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile singleRow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile birthday\",\n            children: \"Registration date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile right\",\n            children: user.creationDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, _this), edit === localStorage.getItem('token') && /*#__PURE__*/_jsxDEV(ProfileEdit, {\n        id: id,\n        username: user.username,\n        birthday: user.birthday,\n        submit: submit,\n        children: \"Edit entries\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 60\n      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n        width: \"100%\",\n        style: {\n          marginTop: \"1em\"\n        },\n        onClick: function onClick() {\n          return history.goBack();\n        },\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(BaseContainer, {\n    className: \"game container\",\n    children: content\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(Profile, \"lZTQxGatC7vnS5jDuTAnS8oMoQo=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["C:/Users/danie/WebstormProjects/sopra-fs23-template-client/src/components/views/Profile.js"],"names":["React","useEffect","useState","BaseContainer","api","handleError","useHistory","useParams","Badge","Button","Spinner","ProfileEdit","Profile","user","setUser","edit","setEdit","history","id","fetchData","token","localStorage","getItem","config","headers","Authorization","get","response","Promise","resolve","setTimeout","data","console","log","request","responseURL","status","statusText","error","alert","submit","editValues","username","birthday","put","current","setItem","content","split","creationDate","marginTop","goBack"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport 'styles/views/Login.scss';\r\nimport BaseContainer from \"components/ui/BaseContainer\";\r\nimport {api, handleError} from \"../../helpers/api\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport {Badge} from \"react-bootstrap\";\r\nimport {Button} from \"../ui/Button\";\r\nimport {Spinner} from \"../ui/Spinner\";\r\nimport ProfileEdit from \"./ProfileEdit\"\r\n\r\n\r\nconst Profile = () => {\r\n    const [user, setUser] = useState(null);\r\n    const [edit, setEdit] = useState(null);\r\n    const history = useHistory();\r\n    const {id} = useParams(); // parameters passed from the browser router :1, :2 .. the userid of the selection\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            try {\r\n                const token = localStorage.getItem('token');\r\n                const config = {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                };\r\n                const response = await api.get(`/users/${id}`, config);\r\n                await new Promise(resolve => setTimeout(resolve, 1000));\r\n                // Get the returned users and update the state.\r\n                setUser(response.data);\r\n                setEdit(response.headers['edit-access']);\r\n\r\n                console.log('request to:', response.request.responseURL);\r\n                console.log('status code:', response.status);\r\n                console.log('status text:', response.statusText);\r\n                console.log('requested data:', response.data);\r\n\r\n                // See here to get more data.\r\n                console.log(response);\r\n            } catch (error) {\r\n                console.error(`Something went wrong while fetching the user: \\n${handleError(error)}`);\r\n                console.error(\"Details:\", error);\r\n                alert(`Something went wrong during the login: \\n${handleError(error)}`);\r\n            }\r\n        }\r\n\r\n        fetchData();\r\n    }, [id]);\r\n\r\n    const submit = async (editValues) => {\r\n        if (user.username !== editValues.username || (user.birthday !== editValues.birthday && editValues.birthday)) {\r\n            try{\r\n                const token = localStorage.getItem('token');\r\n                const config = {\r\n                    headers: {Authorization: `Bearer ${token}`}\r\n                };\r\n                const response = await api.put(`/users/${id}`, editValues, config);\r\n                await new Promise(resolve => setTimeout(resolve, 1000));\r\n                // Get the returned users and update the state.\r\n                const current = {...user, ...editValues};\r\n                setUser(current);\r\n\r\n                localStorage.setItem('token', response.headers['access-token'])\r\n                setEdit(response.headers['edit-access']);\r\n\r\n                console.log('request to:', response.headers['access-token']);\r\n                console.log('request to:', response.request.responseURL);\r\n                console.log('status code:', response.status);\r\n                console.log('status text:', response.statusText);\r\n                console.log('requested data:', response.data);\r\n\r\n                // See here to get more data.\r\n                console.log(response);\r\n            }catch (error) {\r\n                console.error(`Something went wrong while fetching the user: \\n${handleError(error)}`);\r\n                console.error(\"Details:\", error);\r\n                alert(`Something went wrong during the login: \\n${handleError(error)}`);\r\n            }\r\n        }\r\n    }\r\n\r\n    let content = <Spinner/>;\r\n    if (user) {\r\n        user.birthday = user.birthday ? user.birthday.split('T')[0] : user.birthday;\r\n        user.creationDate = user.creationDate.split('T')[0];\r\n        content = (\r\n            <div className=\"game\">\r\n                <div className=\"profile container\">\r\n                    <div className=\"profile singleRow\">\r\n                        <div className=\"player username\">{user.username}</div>\r\n                        <Badge className=\"profile right\"\r\n                               bg={user.status === \"OFFLINE\" ? \"danger\" : \"success\"}>{user.status}</Badge>\r\n                    </div>\r\n                    <div className=\"profile singleRow\">\r\n                        <div className=\"profile birthday\">Birthday</div>\r\n                        <div className=\"profile right\">{user.birthday || 'Not Available'}</div>\r\n                    </div>\r\n                    <div className=\"profile singleRow\">\r\n                        <div className=\"profile birthday\">Registration date</div>\r\n                        <div className=\"profile right\">{user.creationDate}</div>\r\n                    </div>\r\n                </div>\r\n                {edit === localStorage.getItem('token') && <ProfileEdit id={id} username={user.username} birthday={user.birthday} submit={submit}>Edit entries</ProfileEdit>}\r\n                <Button\r\n                    width=\"100%\"\r\n                    style={{marginTop: \"1em\"}}\r\n                    onClick={() => history.goBack()}\r\n                >\r\n                    Back\r\n                </Button>\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <BaseContainer className=\"game container\">\r\n            {content}\r\n        </BaseContainer>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}