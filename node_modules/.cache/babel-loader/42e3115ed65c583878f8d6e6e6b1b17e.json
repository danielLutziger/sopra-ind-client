{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\danie\\\\WebstormProjects\\\\sopra-fs23-template-client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport _slicedToArray from \"C:\\\\Users\\\\danie\\\\WebstormProjects\\\\sopra-fs23-template-client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\danie\\\\WebstormProjects\\\\sopra-fs23-template-client\\\\src\\\\components\\\\views\\\\Profile.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"C:\\\\Users\\\\danie\\\\WebstormProjects\\\\sopra-fs23-template-client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport 'styles/views/Login.scss';\nimport BaseContainer from \"components/ui/BaseContainer\";\nimport { api, handleError } from \"../../helpers/api\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Badge } from \"react-bootstrap\";\nimport { Button } from \"../ui/Button\";\nimport { Spinner } from \"../ui/Spinner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Profile = function Profile(props) {\n  _s();\n\n  console.log(props);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var history = useHistory();\n\n  var _useParams = useParams(),\n      id = _useParams.id; // parameters passed from the browser router :1, :2 .. the userid of the selection\n\n\n  useEffect(function () {\n    function fetchData() {\n      return _fetchData.apply(this, arguments);\n    }\n\n    function _fetchData() {\n      _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var token, config, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                token = localStorage.getItem('token');\n                config = {\n                  headers: {\n                    Authorization: \"Bearer \".concat(token)\n                  }\n                };\n                _context.next = 5;\n                return api.get(\"/users/\".concat(id), config);\n\n              case 5:\n                response = _context.sent;\n                _context.next = 8;\n                return new Promise(function (resolve) {\n                  return setTimeout(resolve, 1000);\n                });\n\n              case 8:\n                // Get the returned users and update the state.\n                setUser(response.data);\n                console.log('request to:', response.request.responseURL);\n                console.log('status code:', response.status);\n                console.log('status text:', response.statusText);\n                console.log('requested data:', response.data); // See here to get more data.\n\n                console.log(response);\n                _context.next = 21;\n                break;\n\n              case 16:\n                _context.prev = 16;\n                _context.t0 = _context[\"catch\"](0);\n                console.error(\"Something went wrong while fetching the user: \\n\".concat(handleError(_context.t0)));\n                console.error(\"Details:\", _context.t0);\n                alert(\"Something went wrong during the login: \\n\".concat(handleError(_context.t0)));\n\n              case 21:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 16]]);\n      }));\n      return _fetchData.apply(this, arguments);\n    }\n\n    fetchData();\n  }, []);\n\n  var content = /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 19\n  }, _this);\n\n  if (user) {\n    content = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile singleRow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player username\",\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Badge, {\n            className: \"profile right\",\n            bg: user.status === \"OFFLINE\" ? \"danger\" : \"success\",\n            children: user.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile singleRow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile birthday\",\n            children: \"Birthday\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile right\",\n            children: user.birthday || 'Not Available'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile singleRow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile birthday\",\n            children: \"Registration date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile right\",\n            children: user.creationDate.split('T')[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n        width: \"100%\",\n        onClick: function onClick() {\n          return history.goBack();\n        },\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, _this), user.id == localStorage.getItem('id') ? 'hi' : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(BaseContainer, {\n    className: \"game container\",\n    children: content\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(Profile, \"/gykSvVXKQRFqRiozkkaNB/TZyI=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["C:/Users/danie/WebstormProjects/sopra-fs23-template-client/src/components/views/Profile.js"],"names":["React","useEffect","useState","BaseContainer","api","handleError","useHistory","useParams","Badge","Button","Spinner","Profile","props","console","log","user","setUser","history","id","fetchData","token","localStorage","getItem","config","headers","Authorization","get","response","Promise","resolve","setTimeout","data","request","responseURL","status","statusText","error","alert","content","username","birthday","creationDate","split","goBack"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport 'styles/views/Login.scss';\r\nimport BaseContainer from \"components/ui/BaseContainer\";\r\nimport {api, handleError} from \"../../helpers/api\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport {Badge} from \"react-bootstrap\";\r\nimport {Button} from \"../ui/Button\";\r\nimport {Spinner} from \"../ui/Spinner\";\r\n\r\n\r\nconst Profile = props => {\r\n    console.log(props)\r\n    const [user, setUser] = useState(null);\r\n    const history = useHistory();\r\n    const {id} = useParams(); // parameters passed from the browser router :1, :2 .. the userid of the selection\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            try {\r\n                const token = localStorage.getItem('token');\r\n                const config = {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                };\r\n                const response = await api.get(`/users/${id}`, config);\r\n                await new Promise(resolve => setTimeout(resolve, 1000));\r\n                // Get the returned users and update the state.\r\n                setUser(response.data);\r\n\r\n                console.log('request to:', response.request.responseURL);\r\n                console.log('status code:', response.status);\r\n                console.log('status text:', response.statusText);\r\n                console.log('requested data:', response.data);\r\n\r\n                // See here to get more data.\r\n                console.log(response);\r\n            } catch (error) {\r\n                console.error(`Something went wrong while fetching the user: \\n${handleError(error)}`);\r\n                console.error(\"Details:\", error);\r\n                alert(`Something went wrong during the login: \\n${handleError(error)}`);\r\n            }\r\n        }\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n\r\n    let content = <Spinner/>;\r\n    if (user) {\r\n        content = (\r\n            <div className=\"game\">\r\n                <div className=\"profile container\">\r\n                    <div className=\"profile singleRow\">\r\n                        <div className=\"player username\">{user.username}</div>\r\n                        <Badge className=\"profile right\"\r\n                               bg={user.status === \"OFFLINE\" ? \"danger\" : \"success\"}>{user.status}</Badge>\r\n                    </div>\r\n                    <div className=\"profile singleRow\">\r\n                        <div className=\"profile birthday\">Birthday</div>\r\n                        <div className=\"profile right\">{user.birthday || 'Not Available'}</div>\r\n                    </div>\r\n                    <div className=\"profile singleRow\">\r\n                        <div className=\"profile birthday\">Registration date</div>\r\n                        <div className=\"profile right\">{user.creationDate.split('T')[0]}</div>\r\n                    </div>\r\n                </div>\r\n                <Button\r\n                    width=\"100%\"\r\n                    onClick={() => history.goBack()}\r\n                >\r\n                    Back\r\n                </Button>   \r\n                {user.id == localStorage.getItem('id') ? 'hi' : ''}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <BaseContainer className=\"game container\">\r\n            {content}\r\n        </BaseContainer>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}